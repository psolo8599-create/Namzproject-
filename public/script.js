// Ambil elemen dari HTMLconst urlInput = document.getElementById("url");const logoInput = document.getElementById("logo");const buildBtn = document.getElementById("buildBtn");const previewBox = document.getElementById("previewBox");const previewImg = document.getElementById("previewImg");const statusHint = document.getElementById("statusHint");// Pastikan semua elemen adaif (!urlInput || !logoInput || !buildBtn) {    console.error("Error: elemen HTML tidak lengkap.");}// ====================// Preview Logo// ====================logoInput?.addEventListener("change", () => {    const file = logoInput.files[0];    if (!file) return;    const reader = new FileReader();    reader.onload = () => {        previewImg.src = reader.result;        previewBox.style.display = "block";    };    reader.readAsDataURL(file);});// ====================// Build APK Handler// ====================buildBtn?.addEventListener("click", async () => {    const siteURL = urlInput.value.trim();    if (!siteURL) {        alert("Masukkan URL dulu.");        return;    }    statusHint.textContent = "⏳ Mengirim data ke server...";    const formData = new FormData();    formData.append("url", siteURL);    if (logoInput.files[0]) {        formData.append("logo", logoInput.files[0]);    }    try {        const res = await fetch("/api/build", {            method: "POST",            body: formData        });        const text = await res.text();        let json;        try {            json = JSON.parse(text);        } catch {            alert("Server mengirim balasan bukan JSON:\n\n" + text);            statusHint.textContent = "❌ Gagal: respons server tidak valid.";            return;        }        if (json.success) {            statusHint.textContent = "✅ APK berhasil dibuat! Mengunduh...";            // Redirect ke link download            window.location.href = json.download;        } else {            statusHint.textContent = "❌ Gagal membuat APK.";            alert("Error: " + json.error);        }    } catch (err) {        console.error(err);        statusHint.textContent = "❌ Terjadi kesalahan jaringan.";        alert("Terjadi error jaringan. Coba lagi.");    }});